spring.application.name=smartrideshare

# Port configuration
server.port=${PORT:8080}

# Database (Already configured for Cloud + Local)
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/smartrideshare}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:root}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.open-in-view=false

# Default admin credentials (Make these variables for security)
app.default.admin.username=${ADMIN_USERNAME:admin@rideshare.com}
app.default.admin.password=${ADMIN_PASSWORD:Admin@123}
# Default passenger credentials
app.default.passenger.username=${PASSENGER_USERNAME:passenger@rideshare.com}
app.default.passenger.password=${PASSENGER_PASSWORD:Passenger@123}
# Default driver credentials
app.default.driver.username=${DRIVER_USERNAME:driver@rideshare.com}
app.default.driver.password=${DRIVER_PASSWORD:Driver@123}

## Email Configuration
#spring.mail.host=smtp.gmail.com
#spring.mail.port=465
#spring.mail.username=smartrideeshare@gmail.com
## IMPORTANT: Now reading from environment variable
#spring.mail.password=${MAIL_PASSWORD}
#spring.mail.properties.mail.smtp.auth=true
#spring.mail.properties.mail.smtp.starttls.enable=true

# Email Configuration (Brevo SMTP)
spring.mail.host=smtp-relay.brevo.com
spring.mail.port=2525
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Connection timeouts (Helps prevent hanging)
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Client URL (Critical for redirects)
# On Render, this will be your live URL. Locally, it is localhost.
client.base.url=${CLIENT_BASE_URL:http://localhost:8080}

# Stripe Configuration
stripe.api.key=${STRIPE_API_KEY}
stripe.public.key=${STRIPE_PUBLIC_KEY:pk_test_51SRUlI6CS8jII8kqnviycHxAlTXKJza7syqkIdxpC01BhiZzuwthbfqkmrcgi6kDzn1dCKDJJrXOWyHm9xzoHkFR002HkMDmkG}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET}